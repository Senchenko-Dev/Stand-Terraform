############################################################### 1. INSTALL ###########################################################

############################################################### 2. UPDATE ############################################################
is_update_ldap_auth_methods: true                                                       # Update ldap auth methods at old pg_hba rules
is_inner_full_backup: true                                                              # Whether to make local backup before updating
local_backup_path: /pgarclogs                                                           # Local backup path
local_backup_coefficient: 1                                                             # Local backup coefficient in % (% of dbms size)
maximum_dbms_size_to_update: 100                                                        # Maximum dbms size to update (Gb)
false_error_filter_for_data_schema:  []                                                 # List of queries that errors will be ignored during update
not_support_type_installed_configuration: ['standalone-postgresql-only', 'standalone-patroni-etcd-pgbouncer']
handle_update_errors: true                                                              # Whether to run recovery cluster when update get error (true = rollback, false = skip error)
is_compress_data_by_rsync: no                                                           # Enabling flag for compression in rsync when network isn't stability or is slow (function for update)

####################################################### 2.1. INFORMATION MESSAGES (optional) #########################################

######################################################### 3. INSTALL AND UPDATE #######################################################
enabled_sec_admin_extra_auth_methods: 'cert'                                            # Allowed extra authentication methods for security administrators
enabled_extra_auth_methods: 'cert'                                                      # Allowed extra authentication methods for non security administrators users

########################################################## 3.1. HBA RULES #############################################################

###################################################### 3.2. SECURITY SETTINGS (SSL) ###################################################
ssl_mode: false
pg_certs_pwd:
  root_ca: "{{ '' | default('/home/postgres/ssl/root.crt', true) }}"                    # Root CA certificate for all components\nodes
  server_cert: "{{ '' | default('/home/postgres/ssl/server.crt', true) }}"              # Main server certificate for each node
  server_key: "{{ '' | default('/home/postgres/ssl/server.key', true) }}"               # Main server private key for each node
  postgres_cert: "{{ '' | default('/home/postgres/ssl/client.crt', true) }}"            # User postgres certificate
  postgres_key: "{{ '' | default('/home/postgres/ssl/client.key', true) }}"             # User postgres private key

###################################################### 3.3. TDE and AP ################################################################

##################################################### 3.4. ENVIRONMENT SETTINGS #######################################################
pip_repository:
  index_url:     https://spo.solution.sbt/python/simple/
  trusted_host:  spo.solution.sbt

linux_repos:
  - name:     EPEL7
    file:     mirror
    baseurl:  http://sp-prod-reprhel-infra-10.stands-vdc04.solution.sbt/repo/rhel-server-rhscl-7-rpms/
    enabled:  true

  - name:     rhel-server-rhscl-7-rpms
    file:     D10
    baseurl:  http://sp-prod-reprhel-infra-10.stands-vdc04.solution.sbt/repo/rhel-server-rhscl-7-rpms/
    enabled:  true

  - name:     rhel-7-server-extras-rpms
    file:     D10
    baseurl:  http://sp-prod-reprhel-infra-10.stands-vdc04.solution.sbt/repo/rhel-7-server-extras-rpms/
    enabled:  true

################################################ 3.5. COMPONENT CONFIGURATION SETTINGS ################################################

                                                      #### ETCD SETTINGS ####
etcd_timeout: 5000                                                                      # Is how long a follower node will go without hearing a notification before attempting to become leader itself (ms)
etcd_interval: 1000                                                                     # This is the frequency with which the leader will notify followers that it is still the leader (ms)

########################################################## 3.6. PASSWORDS #############################################################
pgbouncer_scram_password: SCRAM-SHA-256$4096:6dSZcvwPBkjQxyYISRYwtg==$mhVRh0ny/2d9KTIqq3Kef19eRihnktgkVBh16XACzTE=:INzsKgwAIYvJVr5DxZ15FZGNw7uYRUAHPGtstbJVU7E=

auditor_scram_pass: SCRAM-SHA-256$4096:XhaLdCH3EsW3KxzkWv+7DA==$7js2ocPf+h4dM75S8Pvrhyuqh7WFKkDJzapxGXYtHdg=:XY10Hq7Yycdj0mLOPdIIbSmKIuE/8QdRYx72BlPogus=

zabbix_oasubd_scram_pass: SCRAM-SHA-256$4096:ixX6wg41Fokk2E5lEr5z4Q==$3cjYP9ulKFZ6FzxuKkOXnf6QSCAtwBspwjAL46TvbeU=:AdWErQT4lzBl6EJrmUyyhVMVcZKtHu8pvzSAHwW/A7Y=

monitoring_php_scram_pass: SCRAM-SHA-256$4096:VhI4TEkll0gJn0sPvImwsA==$GZHkciDMeQ/xx2afpqkqpSaarpJptyiQgX67m/khTBo=:c9w/Z1WjrptJ3cB39xVt4aNgsStnygRfnnYg0/El/HY=

postgres_db_scram_pass: SCRAM-SHA-256$4096:WG9q8dnq0H8Fe3zhmP2JpA==$MIaRUuKZKrAOxRRWutZZ+j16ou16ehq4t90hyYOlsGg=:ZCfyArmwtnYW+sAPzKtEVSFxeF66rRLU5LqjoQ02gp0=

postgres_linux_pass: postgres:$6$ZEyrLfdl$hSCw8.nBy6rbA.as8f8kD/duUCXajonEwbkqJ29t.k/v/sfiD877zxtBs4KH4DI.9zZqeBJMHh2OPes3YLcBk0

kmadmin_pg_linux_pass: kmadmin_pg:$6$ZWRDSkEz$d0JNIVo2GVVeEczaYIV495XnP6k6Kuw2KJItRfCXzmfkx39ScLJuxFrFo.UdBxqyUO2ygNRZ2/cCNzVUjHvZG1

############################################## 3.7. DIAGNOSTIC AND MONITORING PARAMETERS ##############################################

############################################## 3.8. PASSWORD POLICY PARAMETERS ########################################################

####################################################### 3.9. ENCRYPTED VARIABLES ######################################################
